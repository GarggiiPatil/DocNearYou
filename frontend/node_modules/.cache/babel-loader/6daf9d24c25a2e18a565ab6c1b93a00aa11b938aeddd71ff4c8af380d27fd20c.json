{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\GARGI\\\\Downloads\\\\docnearyou\\\\frontend\\\\src\\\\pages\\\\NearbyDoctors.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport { patientAPI } from '../services/api';\nimport { MapContainer, TileLayer, Marker, Popup, Circle } from 'react-leaflet';\nimport { MapPin, Navigation, Hospital, Building2, Phone, Clock, ExternalLink } from 'lucide-react';\nimport 'leaflet/dist/leaflet.css';\nimport L from 'leaflet';\n\n// Fix for default markers\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png',\n  iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',\n  shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png'\n});\nconst createCustomIcon = color => {\n  return new L.Icon({\n    iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',\n    iconRetinaUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png',\n    shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png',\n    iconSize: [25, 41],\n    iconAnchor: [12, 41],\n    popupAnchor: [1, -34],\n    shadowSize: [41, 41]\n  });\n};\nconst NearbyDoctors = () => {\n  _s();\n  const navigate = useNavigate();\n  const [userLocation, setUserLocation] = useState({\n    lat: 16.6757,\n    lng: 74.2125\n  });\n  const [searchRadius, setSearchRadius] = useState(5000);\n  const [loading, setLoading] = useState(false);\n  const [places, setPlaces] = useState([]);\n  const [selectedType, setSelectedType] = useState('all');\n  const [selectedPlace, setSelectedPlace] = useState(null);\n  useEffect(() => {\n    getCurrentLocation();\n  }, []);\n  useEffect(() => {\n    if (userLocation) {\n      fetchNearbyPlaces();\n    }\n  }, [userLocation, searchRadius, selectedType]);\n  const getCurrentLocation = () => {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(position => {\n        setUserLocation({\n          lat: position.coords.latitude,\n          lng: position.coords.longitude\n        });\n      }, error => {\n        toast.info('Using Islampur, Maharashtra as default location');\n      });\n    }\n  };\n  const fetchNearbyPlaces = async () => {\n    setLoading(true);\n    try {\n      // Only fetch hospitals and clinics (removed doctors)\n      const types = selectedType === 'all' ? ['hospital', 'clinic'] : [selectedType];\n      let allPlaces = [];\n      for (const type of types) {\n        const query = `\n          [out:json][timeout:25];\n          (\n            node[\"amenity\"=\"${type}\"](around:${searchRadius},${userLocation.lat},${userLocation.lng});\n            way[\"amenity\"=\"${type}\"](around:${searchRadius},${userLocation.lat},${userLocation.lng});\n            node[\"healthcare\"=\"${type}\"](around:${searchRadius},${userLocation.lat},${userLocation.lng});\n            way[\"healthcare\"=\"${type}\"](around:${searchRadius},${userLocation.lat},${userLocation.lng});\n          );\n          out center;\n        `;\n        try {\n          const response = await fetch('https://overpass-api.de/api/interpreter', {\n            method: 'POST',\n            body: query,\n            headers: {\n              'Content-Type': 'text/plain'\n            }\n          });\n          if (!response.ok) {\n            throw new Error(`HTTP error! status: ${response.status}`);\n          }\n          const data = await response.json();\n          const formattedPlaces = data.elements.map(place => {\n            var _place$tags, _place$center, _place$center2, _place$tags2, _place$tags3, _place$tags4, _place$tags5, _place$tags6, _place$tags7, _place$tags8, _place$center3, _place$center4;\n            return {\n              id: place.id,\n              name: ((_place$tags = place.tags) === null || _place$tags === void 0 ? void 0 : _place$tags.name) || `${type.charAt(0).toUpperCase() + type.slice(1)}`,\n              type: type,\n              latitude: place.lat || ((_place$center = place.center) === null || _place$center === void 0 ? void 0 : _place$center.lat),\n              longitude: place.lon || ((_place$center2 = place.center) === null || _place$center2 === void 0 ? void 0 : _place$center2.lon),\n              address: ((_place$tags2 = place.tags) === null || _place$tags2 === void 0 ? void 0 : _place$tags2['addr:street']) || ((_place$tags3 = place.tags) === null || _place$tags3 === void 0 ? void 0 : _place$tags3['addr:city']) || 'Address not available',\n              phone: ((_place$tags4 = place.tags) === null || _place$tags4 === void 0 ? void 0 : _place$tags4.phone) || ((_place$tags5 = place.tags) === null || _place$tags5 === void 0 ? void 0 : _place$tags5['contact:phone']) || 'N/A',\n              opening_hours: ((_place$tags6 = place.tags) === null || _place$tags6 === void 0 ? void 0 : _place$tags6.opening_hours) || 'Not specified',\n              website: ((_place$tags7 = place.tags) === null || _place$tags7 === void 0 ? void 0 : _place$tags7.website) || ((_place$tags8 = place.tags) === null || _place$tags8 === void 0 ? void 0 : _place$tags8['contact:website']),\n              distance: calculateDistance(userLocation.lat, userLocation.lng, place.lat || ((_place$center3 = place.center) === null || _place$center3 === void 0 ? void 0 : _place$center3.lat), place.lon || ((_place$center4 = place.center) === null || _place$center4 === void 0 ? void 0 : _place$center4.lon))\n            };\n          }).filter(p => p.latitude && p.longitude);\n          allPlaces = [...allPlaces, ...formattedPlaces];\n        } catch (error) {\n          console.error(`Error fetching ${type}:`, error);\n        }\n      }\n\n      // Sort by distance\n      allPlaces.sort((a, b) => a.distance - b.distance);\n      setPlaces(allPlaces);\n      if (allPlaces.length > 0) {\n        toast.success(`Found ${allPlaces.length} healthcare facilities nearby`);\n      } else {\n        toast.info('No healthcare facilities found in this area');\n      }\n    } catch (error) {\n      console.error('Error fetching places:', error);\n      toast.error('Failed to fetch healthcare facilities');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Helper function to calculate distance\n  const calculateDistance = (lat1, lon1, lat2, lon2) => {\n    const R = 6371e3;\n    const φ1 = lat1 * Math.PI / 180;\n    const φ2 = lat2 * Math.PI / 180;\n    const Δφ = (lat2 - lat1) * Math.PI / 180;\n    const Δλ = (lon2 - lon1) * Math.PI / 180;\n    const a = Math.sin(Δφ / 2) * Math.sin(Δφ / 2) + Math.cos(φ1) * Math.cos(φ2) * Math.sin(Δλ / 2) * Math.sin(Δλ / 2);\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n    return R * c;\n  };\n  const getTypeColor = type => {\n    switch (type) {\n      case 'hospital':\n        return '#ef4444';\n      case 'clinic':\n        return '#3b82f6';\n      default:\n        return '#6366f1';\n    }\n  };\n  const getTypeIcon = type => {\n    switch (type) {\n      case 'hospital':\n        return /*#__PURE__*/_jsxDEV(Hospital, {\n          size: 20\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 31\n        }, this);\n      case 'clinic':\n        return /*#__PURE__*/_jsxDEV(Building2, {\n          size: 20\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 29\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(MapPin, {\n          size: 20\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 23\n        }, this);\n    }\n  };\n\n  // Handle place click to book appointment\n  const handleBookAppointment = place => {\n    // Convert place data to doctor format for appointment booking\n    const doctorData = {\n      _id: place.id,\n      name: place.name,\n      specialization: place.type === 'hospital' ? 'Hospital' : 'Clinic',\n      hospital: place.name,\n      location: {\n        address: place.address,\n        coordinates: [place.longitude, place.latitude]\n      },\n      phone: place.phone,\n      distance: place.distance\n    };\n    navigate('/patient/book-appointment', {\n      state: {\n        doctor: doctorData\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    style: {\n      padding: '20px',\n      maxWidth: '1400px',\n      margin: '0 auto'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        background: 'white',\n        borderRadius: '15px',\n        padding: '25px',\n        marginBottom: '20px',\n        boxShadow: '0 4px 6px rgba(0,0,0,0.1)'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n          marginBottom: '20px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          style: {\n            margin: 0\n          },\n          children: [/*#__PURE__*/_jsxDEV(MapPin, {\n            style: {\n              display: 'inline',\n              marginRight: '10px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 13\n          }, this), \"Nearby Healthcare\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: '10px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            onClick: getCurrentLocation,\n            children: [/*#__PURE__*/_jsxDEV(Navigation, {\n              size: 18,\n              style: {\n                marginRight: '5px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 15\n            }, this), \"Use My Location\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-secondary\",\n            onClick: () => navigate('/patient/dashboard'),\n            children: \"Back\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          background: '#f3f4f6',\n          padding: '15px',\n          borderRadius: '10px',\n          marginBottom: '20px'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            margin: 0\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Location:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 13\n          }, this), \" Islampur, Maharashtra (\", userLocation.lat.toFixed(4), \", \", userLocation.lng.toFixed(4), \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          gap: '10px',\n          flexWrap: 'wrap',\n          alignItems: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setSelectedType('all'),\n          className: selectedType === 'all' ? 'btn btn-primary' : 'btn btn-secondary',\n          children: \"All\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setSelectedType('hospital'),\n          className: selectedType === 'hospital' ? 'btn btn-primary' : 'btn btn-secondary',\n          style: {\n            background: selectedType === 'hospital' ? '#ef4444' : undefined\n          },\n          children: [/*#__PURE__*/_jsxDEV(Hospital, {\n            size: 16,\n            style: {\n              marginRight: '5px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 13\n          }, this), \" Hospitals\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setSelectedType('clinic'),\n          className: selectedType === 'clinic' ? 'btn btn-primary' : 'btn btn-secondary',\n          style: {\n            background: selectedType === 'clinic' ? '#3b82f6' : undefined\n          },\n          children: [/*#__PURE__*/_jsxDEV(Building2, {\n            size: 16,\n            style: {\n              marginRight: '5px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 13\n          }, this), \" Clinics\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginLeft: 'auto'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              marginRight: '10px'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Radius:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 52\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: searchRadius,\n            onChange: e => setSearchRadius(Number(e.target.value)),\n            style: {\n              padding: '8px',\n              borderRadius: '5px',\n              border: '1px solid #ddd'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: 2000,\n              children: \"2 km\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: 5000,\n              children: \"5 km\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: 10000,\n              children: \"10 km\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: 20000,\n              children: \"20 km\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'grid',\n        gridTemplateColumns: '1fr 1fr',\n        gap: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          background: 'white',\n          borderRadius: '15px',\n          padding: '20px',\n          height: '600px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Map View\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            height: 'calc(100% - 50px)',\n            borderRadius: '10px',\n            overflow: 'hidden'\n          },\n          children: /*#__PURE__*/_jsxDEV(MapContainer, {\n            center: [userLocation.lat, userLocation.lng],\n            zoom: 13,\n            style: {\n              height: '100%',\n              width: '100%'\n            },\n            children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n              url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\n              attribution: \"\\xA9 OpenStreetMap contributors\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Marker, {\n              position: [userLocation.lat, userLocation.lng],\n              children: /*#__PURE__*/_jsxDEV(Popup, {\n                children: \"Your Location\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Circle, {\n              center: [userLocation.lat, userLocation.lng],\n              radius: searchRadius,\n              pathOptions: {\n                color: '#667eea',\n                fillColor: '#667eea',\n                fillOpacity: 0.1\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 15\n            }, this), places.map(place => /*#__PURE__*/_jsxDEV(Marker, {\n              position: [place.latitude, place.longitude],\n              icon: createCustomIcon(getTypeColor(place.type)),\n              children: /*#__PURE__*/_jsxDEV(Popup, {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    minWidth: '150px'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: place.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 285,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 285,\n                    columnNumber: 52\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      fontSize: '12px',\n                      color: '#666'\n                    },\n                    children: place.type.charAt(0).toUpperCase() + place.type.slice(1)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 286,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 288,\n                    columnNumber: 30\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      fontSize: '12px'\n                    },\n                    children: [(place.distance / 1000).toFixed(2), \" km away\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 289,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 291,\n                    columnNumber: 30\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handleBookAppointment(place),\n                    style: {\n                      marginTop: '8px',\n                      padding: '6px 12px',\n                      background: getTypeColor(place.type),\n                      color: 'white',\n                      border: 'none',\n                      borderRadius: '4px',\n                      cursor: 'pointer',\n                      fontSize: '12px',\n                      width: '100%'\n                    },\n                    children: \"Book Appointment\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 292,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 284,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 19\n              }, this)\n            }, place.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          background: 'white',\n          borderRadius: '15px',\n          padding: '20px',\n          height: '600px',\n          overflowY: 'auto'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"Found \", places.length, \" Places\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 11\n        }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: 'center',\n            padding: '40px'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Loading healthcare facilities...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 13\n        }, this) : places.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: 'center',\n            padding: '40px',\n            color: '#666'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Hospital, {\n            size: 48,\n            style: {\n              margin: '0 auto 10px',\n              opacity: 0.3\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"No healthcare facilities found in this area\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontSize: '14px'\n            },\n            children: \"Try increasing the search radius\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 13\n        }, this) : places.map(place => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            border: `2px solid ${getTypeColor(place.type)}`,\n            borderRadius: '10px',\n            padding: '15px',\n            marginBottom: '15px',\n            cursor: 'pointer',\n            transition: 'all 0.3s ease',\n            background: (selectedPlace === null || selectedPlace === void 0 ? void 0 : selectedPlace.id) === place.id ? '#f9fafb' : 'white'\n          },\n          onClick: () => setSelectedPlace(place),\n          onMouseEnter: e => {\n            e.currentTarget.style.transform = 'translateY(-2px)';\n            e.currentTarget.style.boxShadow = '0 4px 12px rgba(0,0,0,0.15)';\n          },\n          onMouseLeave: e => {\n            e.currentTarget.style.transform = 'translateY(0)';\n            e.currentTarget.style.boxShadow = 'none';\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              gap: '10px',\n              marginBottom: '10px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                background: getTypeColor(place.type),\n                color: 'white',\n                padding: '8px',\n                borderRadius: '8px',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center'\n              },\n              children: getTypeIcon(place.type)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                flex: 1\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                style: {\n                  margin: 0,\n                  fontSize: '16px'\n                },\n                children: place.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 365,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: '2px 0',\n                  color: '#666',\n                  fontSize: '13px'\n                },\n                children: place.type.charAt(0).toUpperCase() + place.type.slice(1)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 366,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                fontWeight: 'bold',\n                color: getTypeColor(place.type),\n                fontSize: '14px'\n              },\n              children: [(place.distance / 1000).toFixed(2), \" km\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 370,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 17\n          }, this), place.address && place.address !== 'Address not available' && /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              margin: '8px 0',\n              fontSize: '13px',\n              color: '#4b5563'\n            },\n            children: [/*#__PURE__*/_jsxDEV(MapPin, {\n              size: 14,\n              style: {\n                display: 'inline',\n                marginRight: '5px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 381,\n              columnNumber: 21\n            }, this), place.address]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 380,\n            columnNumber: 19\n          }, this), place.phone !== 'N/A' && /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              margin: '8px 0',\n              fontSize: '13px',\n              color: '#4b5563'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Phone, {\n              size: 14,\n              style: {\n                display: 'inline',\n                marginRight: '5px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 388,\n              columnNumber: 21\n            }, this), place.phone]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 387,\n            columnNumber: 19\n          }, this), place.opening_hours && place.opening_hours !== 'Not specified' && /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              margin: '8px 0',\n              fontSize: '13px',\n              color: '#4b5563'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Clock, {\n              size: 14,\n              style: {\n                display: 'inline',\n                marginRight: '5px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 395,\n              columnNumber: 21\n            }, this), place.opening_hours]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 394,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            onClick: e => {\n              e.stopPropagation();\n              handleBookAppointment(place);\n            },\n            style: {\n              width: '100%',\n              marginTop: '10px',\n              background: getTypeColor(place.type),\n              border: 'none',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              gap: '8px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(ExternalLink, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 417,\n              columnNumber: 19\n            }, this), \"Book Appointment\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 400,\n            columnNumber: 17\n          }, this)]\n        }, place.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 15\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 193,\n    columnNumber: 5\n  }, this);\n};\n_s(NearbyDoctors, \"y+ThEyjOtywTtTB68R7dTs9W/qE=\", false, function () {\n  return [useNavigate];\n});\n_c = NearbyDoctors;\nexport default NearbyDoctors;\n\n// import React, { useState, useEffect } from 'react';\n// import { useNavigate } from 'react-router-dom';\n// import { toast } from 'react-toastify';\n// import { patientAPI } from '../services/api';\n// import { MapContainer, TileLayer, Marker, Popup, Circle } from 'react-leaflet';\n// import { MapPin, Navigation, Hospital, Stethoscope, Building2, Phone, Clock } from 'lucide-react';\n// import 'leaflet/dist/leaflet.css';\n// import L from 'leaflet';\n\n// // Fix for default markers\n// delete L.Icon.Default.prototype._getIconUrl;\n// L.Icon.Default.mergeOptions({\n//   iconRetinaUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png',\n//   iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',\n//   shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png',\n// });\n\n// const createCustomIcon = (color) => {\n//   return new L.Icon({\n//     iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',\n//     iconRetinaUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png',\n//     shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png',\n//     iconSize: [25, 41],\n//     iconAnchor: [12, 41],\n//     popupAnchor: [1, -34],\n//     shadowSize: [41, 41]\n//   });\n// };\n\n// const NearbyDoctors = () => {\n//   const navigate = useNavigate();\n//   const [userLocation, setUserLocation] = useState({ lat: 16.6757, lng: 74.2125 });\n//   const [searchRadius, setSearchRadius] = useState(5000);\n//   const [loading, setLoading] = useState(false);\n//   const [places, setPlaces] = useState([]);\n//   const [selectedType, setSelectedType] = useState('all');\n//   const [selectedPlace, setSelectedPlace] = useState(null);\n\n//   useEffect(() => {\n//     getCurrentLocation();\n//   }, []);\n\n//   useEffect(() => {\n//     if (userLocation) {\n//       fetchNearbyPlaces();\n//     }\n//   }, [userLocation, searchRadius, selectedType]);\n\n//   const getCurrentLocation = () => {\n//     if (navigator.geolocation) {\n//       navigator.geolocation.getCurrentPosition(\n//         (position) => {\n//           setUserLocation({\n//             lat: position.coords.latitude,\n//             lng: position.coords.longitude\n//           });\n//         },\n//         (error) => {\n//           toast.info('Using Islampur, Maharashtra as default location');\n//         }\n//       );\n//     }\n//   };\n\n//   // const fetchNearbyPlaces = async () => {\n//   //   setLoading(true);\n//   //   try {\n//   //     const response = await patientAPI.getNearbyHealthcare(\n//   //       userLocation.lat,\n//   //       userLocation.lng,\n//   //       searchRadius,\n//   //       selectedType\n//   //     );\n//   //     setPlaces(response.data.data);\n//   //     toast.success(`Found ${response.data.count} healthcare facilities`);\n//   //   } catch (error) {\n//   //     console.error('Error fetching places:', error);\n//   //     toast.error('Failed to fetch healthcare facilities');\n//   //   } finally {\n//   //     setLoading(false);\n//   //   }\n//   // };\n\n//   const fetchNearbyPlaces = async () => {\n//   setLoading(true);\n//   try {\n//     // Only fetch from OpenStreetMap - no backend call\n//     const types = selectedType === 'all' \n//       ? ['hospital', 'clinic', 'doctors'] \n//       : [selectedType];\n\n//     let allPlaces = [];\n\n//     for (const type of types) {\n//       const query = `\n//         [out:json][timeout:25];\n//         (\n//           node[\"amenity\"=\"${type}\"](around:${searchRadius},${userLocation.lat},${userLocation.lng});\n//           way[\"amenity\"=\"${type}\"](around:${searchRadius},${userLocation.lat},${userLocation.lng});\n//           node[\"healthcare\"=\"${type}\"](around:${searchRadius},${userLocation.lat},${userLocation.lng});\n//           way[\"healthcare\"=\"${type}\"](around:${searchRadius},${userLocation.lat},${userLocation.lng});\n//         );\n//         out center;\n//       `;\n\n//       try {\n//         const response = await fetch('https://overpass-api.de/api/interpreter', {\n//           method: 'POST',\n//           body: query,\n//           headers: { 'Content-Type': 'text/plain' }\n//         });\n\n//         if (!response.ok) {\n//           throw new Error(`HTTP error! status: ${response.status}`);\n//         }\n\n//         const data = await response.json();\n\n//         const formattedPlaces = data.elements.map(place => ({\n//           id: place.id,\n//           name: place.tags?.name || `${type.charAt(0).toUpperCase() + type.slice(1)}`,\n//           type: type,\n//           latitude: place.lat || place.center?.lat,\n//           longitude: place.lon || place.center?.lon,\n//           address: place.tags?.['addr:street'] || place.tags?.['addr:city'] || 'Address not available',\n//           phone: place.tags?.phone || place.tags?.['contact:phone'] || 'N/A',\n//           opening_hours: place.tags?.opening_hours || 'Not specified',\n//           website: place.tags?.website || place.tags?.['contact:website'],\n//           distance: calculateDistance(\n//             userLocation.lat, \n//             userLocation.lng, \n//             place.lat || place.center?.lat, \n//             place.lon || place.center?.lon\n//           )\n//         })).filter(p => p.latitude && p.longitude);\n\n//         allPlaces = [...allPlaces, ...formattedPlaces];\n//       } catch (error) {\n//         console.error(`Error fetching ${type}:`, error);\n//       }\n//     }\n\n//       // Sort by distance\n//       allPlaces.sort((a, b) => a.distance - b.distance);\n//       setPlaces(allPlaces);\n\n//       if (allPlaces.length > 0) {\n//         toast.success(`Found ${allPlaces.length} healthcare facilities nearby`);\n//       } else {\n//         toast.info('No healthcare facilities found in this area');\n//       }\n//     } catch (error) {\n//       console.error('Error fetching places:', error);\n//       toast.error('Failed to fetch healthcare facilities');\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n\n// // Add helper function\n//     const calculateDistance = (lat1, lon1, lat2, lon2) => {\n//       const R = 6371e3;\n//       const φ1 = lat1 * Math.PI / 180;\n//       const φ2 = lat2 * Math.PI / 180;\n//       const Δφ = (lat2 - lat1) * Math.PI / 180;\n//       const Δλ = (lon2 - lon1) * Math.PI / 180;\n\n//       const a = Math.sin(Δφ / 2) * Math.sin(Δφ / 2) +\n//               Math.cos(φ1) * Math.cos(φ2) *\n//               Math.sin(Δλ / 2) * Math.sin(Δλ / 2);\n//       const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n\n//       return R * c;\n//     };\n\n//   const getTypeColor = (type) => {\n//     switch(type) {\n//       case 'hospital': return '#ef4444';\n//       case 'clinic': return '#3b82f6';\n//       case 'doctors': return '#10b981';\n//       default: return '#6366f1';\n//     }\n//   };\n\n//   const getTypeIcon = (type) => {\n//     switch(type) {\n//       case 'hospital': return <Hospital size={20} />;\n//       case 'clinic': return <Building2 size={20} />;\n//       case 'doctors': return <Stethoscope size={20} />;\n//       default: return <MapPin size={20} />;\n//     }\n//   };\n\n//   return (\n//     <div className=\"container\" style={{ padding: '20px', maxWidth: '1400px', margin: '0 auto' }}>\n//       {/* Header */}\n//       <div style={{ background: 'white', borderRadius: '15px', padding: '25px', marginBottom: '20px', boxShadow: '0 4px 6px rgba(0,0,0,0.1)' }}>\n//         <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '20px' }}>\n//           <h1 style={{ margin: 0 }}>\n//             <MapPin style={{ display: 'inline', marginRight: '10px' }} />\n//             Nearby Healthcare\n//           </h1>\n//           <div style={{ display: 'flex', gap: '10px' }}>\n//             <button className=\"btn btn-primary\" onClick={getCurrentLocation}>\n//               <Navigation size={18} style={{ marginRight: '5px' }} />\n//               Use My Location\n//             </button>\n//             <button className=\"btn btn-secondary\" onClick={() => navigate('/patient/dashboard')}>\n//               Back\n//             </button>\n//           </div>\n//         </div>\n\n//         {/* Location Info */}\n//         <div style={{ background: '#f3f4f6', padding: '15px', borderRadius: '10px', marginBottom: '20px' }}>\n//           <p style={{ margin: 0 }}>\n//             <strong>Location:</strong> Islampur, Maharashtra ({userLocation.lat.toFixed(4)}, {userLocation.lng.toFixed(4)})\n//           </p>\n//         </div>\n\n//         {/* Filters */}\n//         <div style={{ display: 'flex', gap: '10px', flexWrap: 'wrap', alignItems: 'center' }}>\n//           <button\n//             onClick={() => setSelectedType('all')}\n//             className={selectedType === 'all' ? 'btn btn-primary' : 'btn btn-secondary'}\n//           >\n//             All\n//           </button>\n//           <button\n//             onClick={() => setSelectedType('hospital')}\n//             className={selectedType === 'hospital' ? 'btn btn-primary' : 'btn btn-secondary'}\n//             style={{ background: selectedType === 'hospital' ? '#ef4444' : undefined }}\n//           >\n//             <Hospital size={16} style={{ marginRight: '5px' }} /> Hospitals\n//           </button>\n//           <button\n//             onClick={() => setSelectedType('clinic')}\n//             className={selectedType === 'clinic' ? 'btn btn-primary' : 'btn btn-secondary'}\n//             style={{ background: selectedType === 'clinic' ? '#3b82f6' : undefined }}\n//           >\n//             <Building2 size={16} style={{ marginRight: '5px' }} /> Clinics\n//           </button>\n//           <button\n//             onClick={() => setSelectedType('doctors')}\n//             className={selectedType === 'doctors' ? 'btn btn-primary' : 'btn btn-secondary'}\n//             style={{ background: selectedType === 'doctors' ? '#10b981' : undefined }}\n//           >\n//             <Stethoscope size={16} style={{ marginRight: '5px' }} /> Doctors\n//           </button>\n\n//           <div style={{ marginLeft: 'auto' }}>\n//             <label style={{ marginRight: '10px' }}><strong>Radius:</strong></label>\n//             <select\n//               value={searchRadius}\n//               onChange={(e) => setSearchRadius(Number(e.target.value))}\n//               style={{ padding: '8px', borderRadius: '5px', border: '1px solid #ddd' }}\n//             >\n//               <option value={2000}>2 km</option>\n//               <option value={5000}>5 km</option>\n//               <option value={10000}>10 km</option>\n//               <option value={20000}>20 km</option>\n//             </select>\n//           </div>\n//         </div>\n//       </div>\n\n//       {/* Map and List */}\n//       <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '20px' }}>\n//         {/* Map */}\n//         <div style={{ background: 'white', borderRadius: '15px', padding: '20px', height: '600px' }}>\n//           <h2>Map View</h2>\n//           <div style={{ height: 'calc(100% - 50px)', borderRadius: '10px', overflow: 'hidden' }}>\n//             <MapContainer center={[userLocation.lat, userLocation.lng]} zoom={13} style={{ height: '100%', width: '100%' }}>\n//               <TileLayer\n//                 url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n//                 attribution='&copy; OpenStreetMap contributors'\n//               />\n//               <Marker position={[userLocation.lat, userLocation.lng]}>\n//                 <Popup>Your Location</Popup>\n//               </Marker>\n//               <Circle\n//                 center={[userLocation.lat, userLocation.lng]}\n//                 radius={searchRadius}\n//                 pathOptions={{ color: '#667eea', fillColor: '#667eea', fillOpacity: 0.1 }}\n//               />\n//               {places.map(place => (\n//                 <Marker\n//                   key={place.id}\n//                   position={[place.latitude, place.longitude]}\n//                   icon={createCustomIcon(getTypeColor(place.type))}\n//                 >\n//                   <Popup>\n//                     <strong>{place.name}</strong><br />\n//                     {place.type}<br />\n//                     {(place.distance / 1000).toFixed(2)} km away\n//                   </Popup>\n//                 </Marker>\n//               ))}\n//             </MapContainer>\n//           </div>\n//         </div>\n\n//         {/* List */}\n//         <div style={{ background: 'white', borderRadius: '15px', padding: '20px', height: '600px', overflowY: 'auto' }}>\n//           <h2>Found {places.length} Places</h2>\n//           {loading ? (\n//             <p>Loading...</p>\n//           ) : places.length === 0 ? (\n//             <p>No places found</p>\n//           ) : (\n//             places.map(place => (\n//               <div\n//                 key={place.id}\n//                 style={{\n//                   border: '1px solid #ddd',\n//                   borderRadius: '10px',\n//                   padding: '15px',\n//                   marginBottom: '15px',\n//                   cursor: 'pointer'\n//                 }}\n//                 onClick={() => setSelectedPlace(place)}\n//               >\n//                 <div style={{ display: 'flex', alignItems: 'center', gap: '10px' }}>\n//                   {getTypeIcon(place.type)}\n//                   <div>\n//                     <h3 style={{ margin: 0 }}>{place.name}</h3>\n//                     <p style={{ margin: '5px 0', color: '#666' }}>{place.type}</p>\n//                   </div>\n//                   <span style={{ marginLeft: 'auto', fontWeight: 'bold' }}>\n//                     {(place.distance / 1000).toFixed(2)} km\n//                   </span>\n//                 </div>\n//                 {place.phone !== 'N/A' && <p><Phone size={14} /> {place.phone}</p>}\n//                 {place.isRegistered && (\n//                   <button\n//                     className=\"btn btn-primary\"\n//                     onClick={() => navigate('/patient/book-appointment', { state: { doctor: place } })}\n//                     style={{ width: '100%', marginTop: '10px' }}\n//                   >\n//                     Book Appointment\n//                   </button>\n//                 )}\n//               </div>\n//             ))\n//           )}\n//         </div>\n//       </div>\n//     </div>\n//   );\n// };\n\n// export default NearbyDoctors;\nvar _c;\n$RefreshReg$(_c, \"NearbyDoctors\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","toast","patientAPI","MapContainer","TileLayer","Marker","Popup","Circle","MapPin","Navigation","Hospital","Building2","Phone","Clock","ExternalLink","L","jsxDEV","_jsxDEV","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","iconUrl","shadowUrl","createCustomIcon","color","iconSize","iconAnchor","popupAnchor","shadowSize","NearbyDoctors","_s","navigate","userLocation","setUserLocation","lat","lng","searchRadius","setSearchRadius","loading","setLoading","places","setPlaces","selectedType","setSelectedType","selectedPlace","setSelectedPlace","getCurrentLocation","fetchNearbyPlaces","navigator","geolocation","getCurrentPosition","position","coords","latitude","longitude","error","info","types","allPlaces","type","query","response","fetch","method","body","headers","ok","Error","status","data","json","formattedPlaces","elements","map","place","_place$tags","_place$center","_place$center2","_place$tags2","_place$tags3","_place$tags4","_place$tags5","_place$tags6","_place$tags7","_place$tags8","_place$center3","_place$center4","id","name","tags","charAt","toUpperCase","slice","center","lon","address","phone","opening_hours","website","distance","calculateDistance","filter","p","console","sort","a","b","length","success","lat1","lon1","lat2","lon2","R","φ1","Math","PI","φ2","Δφ","Δλ","sin","cos","c","atan2","sqrt","getTypeColor","getTypeIcon","size","fileName","_jsxFileName","lineNumber","columnNumber","handleBookAppointment","doctorData","_id","specialization","hospital","location","coordinates","state","doctor","className","style","padding","maxWidth","margin","children","background","borderRadius","marginBottom","boxShadow","display","justifyContent","alignItems","marginRight","gap","onClick","toFixed","flexWrap","undefined","marginLeft","value","onChange","e","Number","target","border","gridTemplateColumns","height","overflow","zoom","width","url","attribution","radius","pathOptions","fillColor","fillOpacity","icon","minWidth","fontSize","marginTop","cursor","overflowY","textAlign","opacity","transition","onMouseEnter","currentTarget","transform","onMouseLeave","flex","fontWeight","stopPropagation","_c","$RefreshReg$"],"sources":["C:/Users/GARGI/Downloads/docnearyou/frontend/src/pages/NearbyDoctors.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\nimport { patientAPI } from '../services/api';\r\nimport { MapContainer, TileLayer, Marker, Popup, Circle } from 'react-leaflet';\r\nimport { MapPin, Navigation, Hospital, Building2, Phone, Clock, ExternalLink } from 'lucide-react';\r\nimport 'leaflet/dist/leaflet.css';\r\nimport L from 'leaflet';\r\n\r\n// Fix for default markers\r\ndelete L.Icon.Default.prototype._getIconUrl;\r\nL.Icon.Default.mergeOptions({\r\n  iconRetinaUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png',\r\n  iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',\r\n  shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png',\r\n});\r\n\r\nconst createCustomIcon = (color) => {\r\n  return new L.Icon({\r\n    iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',\r\n    iconRetinaUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png',\r\n    shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png',\r\n    iconSize: [25, 41],\r\n    iconAnchor: [12, 41],\r\n    popupAnchor: [1, -34],\r\n    shadowSize: [41, 41]\r\n  });\r\n};\r\n\r\nconst NearbyDoctors = () => {\r\n  const navigate = useNavigate();\r\n  const [userLocation, setUserLocation] = useState({ lat: 16.6757, lng: 74.2125 });\r\n  const [searchRadius, setSearchRadius] = useState(5000);\r\n  const [loading, setLoading] = useState(false);\r\n  const [places, setPlaces] = useState([]);\r\n  const [selectedType, setSelectedType] = useState('all');\r\n  const [selectedPlace, setSelectedPlace] = useState(null);\r\n\r\n  useEffect(() => {\r\n    getCurrentLocation();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (userLocation) {\r\n      fetchNearbyPlaces();\r\n    }\r\n  }, [userLocation, searchRadius, selectedType]);\r\n\r\n  const getCurrentLocation = () => {\r\n    if (navigator.geolocation) {\r\n      navigator.geolocation.getCurrentPosition(\r\n        (position) => {\r\n          setUserLocation({\r\n            lat: position.coords.latitude,\r\n            lng: position.coords.longitude\r\n          });\r\n        },\r\n        (error) => {\r\n          toast.info('Using Islampur, Maharashtra as default location');\r\n        }\r\n      );\r\n    }\r\n  };\r\n\r\n  const fetchNearbyPlaces = async () => {\r\n    setLoading(true);\r\n    try {\r\n      // Only fetch hospitals and clinics (removed doctors)\r\n      const types = selectedType === 'all' \r\n        ? ['hospital', 'clinic'] \r\n        : [selectedType];\r\n      \r\n      let allPlaces = [];\r\n\r\n      for (const type of types) {\r\n        const query = `\r\n          [out:json][timeout:25];\r\n          (\r\n            node[\"amenity\"=\"${type}\"](around:${searchRadius},${userLocation.lat},${userLocation.lng});\r\n            way[\"amenity\"=\"${type}\"](around:${searchRadius},${userLocation.lat},${userLocation.lng});\r\n            node[\"healthcare\"=\"${type}\"](around:${searchRadius},${userLocation.lat},${userLocation.lng});\r\n            way[\"healthcare\"=\"${type}\"](around:${searchRadius},${userLocation.lat},${userLocation.lng});\r\n          );\r\n          out center;\r\n        `;\r\n\r\n        try {\r\n          const response = await fetch('https://overpass-api.de/api/interpreter', {\r\n            method: 'POST',\r\n            body: query,\r\n            headers: { 'Content-Type': 'text/plain' }\r\n          });\r\n\r\n          if (!response.ok) {\r\n            throw new Error(`HTTP error! status: ${response.status}`);\r\n          }\r\n\r\n          const data = await response.json();\r\n          \r\n          const formattedPlaces = data.elements.map(place => ({\r\n            id: place.id,\r\n            name: place.tags?.name || `${type.charAt(0).toUpperCase() + type.slice(1)}`,\r\n            type: type,\r\n            latitude: place.lat || place.center?.lat,\r\n            longitude: place.lon || place.center?.lon,\r\n            address: place.tags?.['addr:street'] || place.tags?.['addr:city'] || 'Address not available',\r\n            phone: place.tags?.phone || place.tags?.['contact:phone'] || 'N/A',\r\n            opening_hours: place.tags?.opening_hours || 'Not specified',\r\n            website: place.tags?.website || place.tags?.['contact:website'],\r\n            distance: calculateDistance(\r\n              userLocation.lat, \r\n              userLocation.lng, \r\n              place.lat || place.center?.lat, \r\n              place.lon || place.center?.lon\r\n            )\r\n          })).filter(p => p.latitude && p.longitude);\r\n\r\n          allPlaces = [...allPlaces, ...formattedPlaces];\r\n        } catch (error) {\r\n          console.error(`Error fetching ${type}:`, error);\r\n        }\r\n      }\r\n\r\n      // Sort by distance\r\n      allPlaces.sort((a, b) => a.distance - b.distance);\r\n      setPlaces(allPlaces);\r\n      \r\n      if (allPlaces.length > 0) {\r\n        toast.success(`Found ${allPlaces.length} healthcare facilities nearby`);\r\n      } else {\r\n        toast.info('No healthcare facilities found in this area');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching places:', error);\r\n      toast.error('Failed to fetch healthcare facilities');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Helper function to calculate distance\r\n  const calculateDistance = (lat1, lon1, lat2, lon2) => {\r\n    const R = 6371e3;\r\n    const φ1 = lat1 * Math.PI / 180;\r\n    const φ2 = lat2 * Math.PI / 180;\r\n    const Δφ = (lat2 - lat1) * Math.PI / 180;\r\n    const Δλ = (lon2 - lon1) * Math.PI / 180;\r\n\r\n    const a = Math.sin(Δφ / 2) * Math.sin(Δφ / 2) +\r\n            Math.cos(φ1) * Math.cos(φ2) *\r\n            Math.sin(Δλ / 2) * Math.sin(Δλ / 2);\r\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n\r\n    return R * c;\r\n  };\r\n\r\n  const getTypeColor = (type) => {\r\n    switch(type) {\r\n      case 'hospital': return '#ef4444';\r\n      case 'clinic': return '#3b82f6';\r\n      default: return '#6366f1';\r\n    }\r\n  };\r\n\r\n  const getTypeIcon = (type) => {\r\n    switch(type) {\r\n      case 'hospital': return <Hospital size={20} />;\r\n      case 'clinic': return <Building2 size={20} />;\r\n      default: return <MapPin size={20} />;\r\n    }\r\n  };\r\n\r\n  // Handle place click to book appointment\r\n  const handleBookAppointment = (place) => {\r\n    // Convert place data to doctor format for appointment booking\r\n    const doctorData = {\r\n      _id: place.id,\r\n      name: place.name,\r\n      specialization: place.type === 'hospital' ? 'Hospital' : 'Clinic',\r\n      hospital: place.name,\r\n      location: {\r\n        address: place.address,\r\n        coordinates: [place.longitude, place.latitude]\r\n      },\r\n      phone: place.phone,\r\n      distance: place.distance\r\n    };\r\n\r\n    navigate('/patient/book-appointment', { state: { doctor: doctorData } });\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\" style={{ padding: '20px', maxWidth: '1400px', margin: '0 auto' }}>\r\n      {/* Header */}\r\n      <div style={{ background: 'white', borderRadius: '15px', padding: '25px', marginBottom: '20px', boxShadow: '0 4px 6px rgba(0,0,0,0.1)' }}>\r\n        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '20px' }}>\r\n          <h1 style={{ margin: 0 }}>\r\n            <MapPin style={{ display: 'inline', marginRight: '10px' }} />\r\n            Nearby Healthcare\r\n          </h1>\r\n          <div style={{ display: 'flex', gap: '10px' }}>\r\n            <button className=\"btn btn-primary\" onClick={getCurrentLocation}>\r\n              <Navigation size={18} style={{ marginRight: '5px' }} />\r\n              Use My Location\r\n            </button>\r\n            <button className=\"btn btn-secondary\" onClick={() => navigate('/patient/dashboard')}>\r\n              Back\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Location Info */}\r\n        <div style={{ background: '#f3f4f6', padding: '15px', borderRadius: '10px', marginBottom: '20px' }}>\r\n          <p style={{ margin: 0 }}>\r\n            <strong>Location:</strong> Islampur, Maharashtra ({userLocation.lat.toFixed(4)}, {userLocation.lng.toFixed(4)})\r\n          </p>\r\n        </div>\r\n\r\n        {/* Filters - Removed Doctors option */}\r\n        <div style={{ display: 'flex', gap: '10px', flexWrap: 'wrap', alignItems: 'center' }}>\r\n          <button\r\n            onClick={() => setSelectedType('all')}\r\n            className={selectedType === 'all' ? 'btn btn-primary' : 'btn btn-secondary'}\r\n          >\r\n            All\r\n          </button>\r\n          <button\r\n            onClick={() => setSelectedType('hospital')}\r\n            className={selectedType === 'hospital' ? 'btn btn-primary' : 'btn btn-secondary'}\r\n            style={{ background: selectedType === 'hospital' ? '#ef4444' : undefined }}\r\n          >\r\n            <Hospital size={16} style={{ marginRight: '5px' }} /> Hospitals\r\n          </button>\r\n          <button\r\n            onClick={() => setSelectedType('clinic')}\r\n            className={selectedType === 'clinic' ? 'btn btn-primary' : 'btn btn-secondary'}\r\n            style={{ background: selectedType === 'clinic' ? '#3b82f6' : undefined }}\r\n          >\r\n            <Building2 size={16} style={{ marginRight: '5px' }} /> Clinics\r\n          </button>\r\n\r\n          <div style={{ marginLeft: 'auto' }}>\r\n            <label style={{ marginRight: '10px' }}><strong>Radius:</strong></label>\r\n            <select\r\n              value={searchRadius}\r\n              onChange={(e) => setSearchRadius(Number(e.target.value))}\r\n              style={{ padding: '8px', borderRadius: '5px', border: '1px solid #ddd' }}\r\n            >\r\n              <option value={2000}>2 km</option>\r\n              <option value={5000}>5 km</option>\r\n              <option value={10000}>10 km</option>\r\n              <option value={20000}>20 km</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Map and List */}\r\n      <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '20px' }}>\r\n        {/* Map */}\r\n        <div style={{ background: 'white', borderRadius: '15px', padding: '20px', height: '600px' }}>\r\n          <h2>Map View</h2>\r\n          <div style={{ height: 'calc(100% - 50px)', borderRadius: '10px', overflow: 'hidden' }}>\r\n            <MapContainer center={[userLocation.lat, userLocation.lng]} zoom={13} style={{ height: '100%', width: '100%' }}>\r\n              <TileLayer\r\n                url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n                attribution='&copy; OpenStreetMap contributors'\r\n              />\r\n              <Marker position={[userLocation.lat, userLocation.lng]}>\r\n                <Popup>Your Location</Popup>\r\n              </Marker>\r\n              <Circle\r\n                center={[userLocation.lat, userLocation.lng]}\r\n                radius={searchRadius}\r\n                pathOptions={{ color: '#667eea', fillColor: '#667eea', fillOpacity: 0.1 }}\r\n              />\r\n              {places.map(place => (\r\n                <Marker\r\n                  key={place.id}\r\n                  position={[place.latitude, place.longitude]}\r\n                  icon={createCustomIcon(getTypeColor(place.type))}\r\n                >\r\n                  <Popup>\r\n                    <div style={{ minWidth: '150px' }}>\r\n                      <strong>{place.name}</strong><br />\r\n                      <span style={{ fontSize: '12px', color: '#666' }}>\r\n                        {place.type.charAt(0).toUpperCase() + place.type.slice(1)}\r\n                      </span><br />\r\n                      <span style={{ fontSize: '12px' }}>\r\n                        {(place.distance / 1000).toFixed(2)} km away\r\n                      </span><br />\r\n                      <button\r\n                        onClick={() => handleBookAppointment(place)}\r\n                        style={{\r\n                          marginTop: '8px',\r\n                          padding: '6px 12px',\r\n                          background: getTypeColor(place.type),\r\n                          color: 'white',\r\n                          border: 'none',\r\n                          borderRadius: '4px',\r\n                          cursor: 'pointer',\r\n                          fontSize: '12px',\r\n                          width: '100%'\r\n                        }}\r\n                      >\r\n                        Book Appointment\r\n                      </button>\r\n                    </div>\r\n                  </Popup>\r\n                </Marker>\r\n              ))}\r\n            </MapContainer>\r\n          </div>\r\n        </div>\r\n\r\n        {/* List */}\r\n        <div style={{ background: 'white', borderRadius: '15px', padding: '20px', height: '600px', overflowY: 'auto' }}>\r\n          <h2>Found {places.length} Places</h2>\r\n          {loading ? (\r\n            <div style={{ textAlign: 'center', padding: '40px' }}>\r\n              <p>Loading healthcare facilities...</p>\r\n            </div>\r\n          ) : places.length === 0 ? (\r\n            <div style={{ textAlign: 'center', padding: '40px', color: '#666' }}>\r\n              <Hospital size={48} style={{ margin: '0 auto 10px', opacity: 0.3 }} />\r\n              <p>No healthcare facilities found in this area</p>\r\n              <p style={{ fontSize: '14px' }}>Try increasing the search radius</p>\r\n            </div>\r\n          ) : (\r\n            places.map(place => (\r\n              <div\r\n                key={place.id}\r\n                style={{\r\n                  border: `2px solid ${getTypeColor(place.type)}`,\r\n                  borderRadius: '10px',\r\n                  padding: '15px',\r\n                  marginBottom: '15px',\r\n                  cursor: 'pointer',\r\n                  transition: 'all 0.3s ease',\r\n                  background: selectedPlace?.id === place.id ? '#f9fafb' : 'white'\r\n                }}\r\n                onClick={() => setSelectedPlace(place)}\r\n                onMouseEnter={(e) => {\r\n                  e.currentTarget.style.transform = 'translateY(-2px)';\r\n                  e.currentTarget.style.boxShadow = '0 4px 12px rgba(0,0,0,0.15)';\r\n                }}\r\n                onMouseLeave={(e) => {\r\n                  e.currentTarget.style.transform = 'translateY(0)';\r\n                  e.currentTarget.style.boxShadow = 'none';\r\n                }}\r\n              >\r\n                <div style={{ display: 'flex', alignItems: 'center', gap: '10px', marginBottom: '10px' }}>\r\n                  <div style={{\r\n                    background: getTypeColor(place.type),\r\n                    color: 'white',\r\n                    padding: '8px',\r\n                    borderRadius: '8px',\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    justifyContent: 'center'\r\n                  }}>\r\n                    {getTypeIcon(place.type)}\r\n                  </div>\r\n                  <div style={{ flex: 1 }}>\r\n                    <h3 style={{ margin: 0, fontSize: '16px' }}>{place.name}</h3>\r\n                    <p style={{ margin: '2px 0', color: '#666', fontSize: '13px' }}>\r\n                      {place.type.charAt(0).toUpperCase() + place.type.slice(1)}\r\n                    </p>\r\n                  </div>\r\n                  <span style={{ \r\n                    fontWeight: 'bold', \r\n                    color: getTypeColor(place.type),\r\n                    fontSize: '14px'\r\n                  }}>\r\n                    {(place.distance / 1000).toFixed(2)} km\r\n                  </span>\r\n                </div>\r\n\r\n                {place.address && place.address !== 'Address not available' && (\r\n                  <p style={{ margin: '8px 0', fontSize: '13px', color: '#4b5563' }}>\r\n                    <MapPin size={14} style={{ display: 'inline', marginRight: '5px' }} />\r\n                    {place.address}\r\n                  </p>\r\n                )}\r\n\r\n                {place.phone !== 'N/A' && (\r\n                  <p style={{ margin: '8px 0', fontSize: '13px', color: '#4b5563' }}>\r\n                    <Phone size={14} style={{ display: 'inline', marginRight: '5px' }} />\r\n                    {place.phone}\r\n                  </p>\r\n                )}\r\n\r\n                {place.opening_hours && place.opening_hours !== 'Not specified' && (\r\n                  <p style={{ margin: '8px 0', fontSize: '13px', color: '#4b5563' }}>\r\n                    <Clock size={14} style={{ display: 'inline', marginRight: '5px' }} />\r\n                    {place.opening_hours}\r\n                  </p>\r\n                )}\r\n\r\n                <button\r\n                  className=\"btn btn-primary\"\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                    handleBookAppointment(place);\r\n                  }}\r\n                  style={{ \r\n                    width: '100%', \r\n                    marginTop: '10px',\r\n                    background: getTypeColor(place.type),\r\n                    border: 'none',\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    justifyContent: 'center',\r\n                    gap: '8px'\r\n                  }}\r\n                >\r\n                  <ExternalLink size={16} />\r\n                  Book Appointment\r\n                </button>\r\n              </div>\r\n            ))\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NearbyDoctors;\r\n\r\n// import React, { useState, useEffect } from 'react';\r\n// import { useNavigate } from 'react-router-dom';\r\n// import { toast } from 'react-toastify';\r\n// import { patientAPI } from '../services/api';\r\n// import { MapContainer, TileLayer, Marker, Popup, Circle } from 'react-leaflet';\r\n// import { MapPin, Navigation, Hospital, Stethoscope, Building2, Phone, Clock } from 'lucide-react';\r\n// import 'leaflet/dist/leaflet.css';\r\n// import L from 'leaflet';\r\n\r\n// // Fix for default markers\r\n// delete L.Icon.Default.prototype._getIconUrl;\r\n// L.Icon.Default.mergeOptions({\r\n//   iconRetinaUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png',\r\n//   iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',\r\n//   shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png',\r\n// });\r\n\r\n// const createCustomIcon = (color) => {\r\n//   return new L.Icon({\r\n//     iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',\r\n//     iconRetinaUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png',\r\n//     shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png',\r\n//     iconSize: [25, 41],\r\n//     iconAnchor: [12, 41],\r\n//     popupAnchor: [1, -34],\r\n//     shadowSize: [41, 41]\r\n//   });\r\n// };\r\n\r\n// const NearbyDoctors = () => {\r\n//   const navigate = useNavigate();\r\n//   const [userLocation, setUserLocation] = useState({ lat: 16.6757, lng: 74.2125 });\r\n//   const [searchRadius, setSearchRadius] = useState(5000);\r\n//   const [loading, setLoading] = useState(false);\r\n//   const [places, setPlaces] = useState([]);\r\n//   const [selectedType, setSelectedType] = useState('all');\r\n//   const [selectedPlace, setSelectedPlace] = useState(null);\r\n\r\n//   useEffect(() => {\r\n//     getCurrentLocation();\r\n//   }, []);\r\n\r\n//   useEffect(() => {\r\n//     if (userLocation) {\r\n//       fetchNearbyPlaces();\r\n//     }\r\n//   }, [userLocation, searchRadius, selectedType]);\r\n\r\n//   const getCurrentLocation = () => {\r\n//     if (navigator.geolocation) {\r\n//       navigator.geolocation.getCurrentPosition(\r\n//         (position) => {\r\n//           setUserLocation({\r\n//             lat: position.coords.latitude,\r\n//             lng: position.coords.longitude\r\n//           });\r\n//         },\r\n//         (error) => {\r\n//           toast.info('Using Islampur, Maharashtra as default location');\r\n//         }\r\n//       );\r\n//     }\r\n//   };\r\n\r\n//   // const fetchNearbyPlaces = async () => {\r\n//   //   setLoading(true);\r\n//   //   try {\r\n//   //     const response = await patientAPI.getNearbyHealthcare(\r\n//   //       userLocation.lat,\r\n//   //       userLocation.lng,\r\n//   //       searchRadius,\r\n//   //       selectedType\r\n//   //     );\r\n//   //     setPlaces(response.data.data);\r\n//   //     toast.success(`Found ${response.data.count} healthcare facilities`);\r\n//   //   } catch (error) {\r\n//   //     console.error('Error fetching places:', error);\r\n//   //     toast.error('Failed to fetch healthcare facilities');\r\n//   //   } finally {\r\n//   //     setLoading(false);\r\n//   //   }\r\n//   // };\r\n\r\n//   const fetchNearbyPlaces = async () => {\r\n//   setLoading(true);\r\n//   try {\r\n//     // Only fetch from OpenStreetMap - no backend call\r\n//     const types = selectedType === 'all' \r\n//       ? ['hospital', 'clinic', 'doctors'] \r\n//       : [selectedType];\r\n    \r\n//     let allPlaces = [];\r\n\r\n//     for (const type of types) {\r\n//       const query = `\r\n//         [out:json][timeout:25];\r\n//         (\r\n//           node[\"amenity\"=\"${type}\"](around:${searchRadius},${userLocation.lat},${userLocation.lng});\r\n//           way[\"amenity\"=\"${type}\"](around:${searchRadius},${userLocation.lat},${userLocation.lng});\r\n//           node[\"healthcare\"=\"${type}\"](around:${searchRadius},${userLocation.lat},${userLocation.lng});\r\n//           way[\"healthcare\"=\"${type}\"](around:${searchRadius},${userLocation.lat},${userLocation.lng});\r\n//         );\r\n//         out center;\r\n//       `;\r\n\r\n//       try {\r\n//         const response = await fetch('https://overpass-api.de/api/interpreter', {\r\n//           method: 'POST',\r\n//           body: query,\r\n//           headers: { 'Content-Type': 'text/plain' }\r\n//         });\r\n\r\n//         if (!response.ok) {\r\n//           throw new Error(`HTTP error! status: ${response.status}`);\r\n//         }\r\n\r\n//         const data = await response.json();\r\n        \r\n//         const formattedPlaces = data.elements.map(place => ({\r\n//           id: place.id,\r\n//           name: place.tags?.name || `${type.charAt(0).toUpperCase() + type.slice(1)}`,\r\n//           type: type,\r\n//           latitude: place.lat || place.center?.lat,\r\n//           longitude: place.lon || place.center?.lon,\r\n//           address: place.tags?.['addr:street'] || place.tags?.['addr:city'] || 'Address not available',\r\n//           phone: place.tags?.phone || place.tags?.['contact:phone'] || 'N/A',\r\n//           opening_hours: place.tags?.opening_hours || 'Not specified',\r\n//           website: place.tags?.website || place.tags?.['contact:website'],\r\n//           distance: calculateDistance(\r\n//             userLocation.lat, \r\n//             userLocation.lng, \r\n//             place.lat || place.center?.lat, \r\n//             place.lon || place.center?.lon\r\n//           )\r\n//         })).filter(p => p.latitude && p.longitude);\r\n\r\n//         allPlaces = [...allPlaces, ...formattedPlaces];\r\n//       } catch (error) {\r\n//         console.error(`Error fetching ${type}:`, error);\r\n//       }\r\n//     }\r\n\r\n//       // Sort by distance\r\n//       allPlaces.sort((a, b) => a.distance - b.distance);\r\n//       setPlaces(allPlaces);\r\n      \r\n//       if (allPlaces.length > 0) {\r\n//         toast.success(`Found ${allPlaces.length} healthcare facilities nearby`);\r\n//       } else {\r\n//         toast.info('No healthcare facilities found in this area');\r\n//       }\r\n//     } catch (error) {\r\n//       console.error('Error fetching places:', error);\r\n//       toast.error('Failed to fetch healthcare facilities');\r\n//     } finally {\r\n//       setLoading(false);\r\n//     }\r\n//   };\r\n\r\n// // Add helper function\r\n//     const calculateDistance = (lat1, lon1, lat2, lon2) => {\r\n//       const R = 6371e3;\r\n//       const φ1 = lat1 * Math.PI / 180;\r\n//       const φ2 = lat2 * Math.PI / 180;\r\n//       const Δφ = (lat2 - lat1) * Math.PI / 180;\r\n//       const Δλ = (lon2 - lon1) * Math.PI / 180;\r\n\r\n//       const a = Math.sin(Δφ / 2) * Math.sin(Δφ / 2) +\r\n//               Math.cos(φ1) * Math.cos(φ2) *\r\n//               Math.sin(Δλ / 2) * Math.sin(Δλ / 2);\r\n//       const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n\r\n//       return R * c;\r\n//     };\r\n\r\n//   const getTypeColor = (type) => {\r\n//     switch(type) {\r\n//       case 'hospital': return '#ef4444';\r\n//       case 'clinic': return '#3b82f6';\r\n//       case 'doctors': return '#10b981';\r\n//       default: return '#6366f1';\r\n//     }\r\n//   };\r\n\r\n//   const getTypeIcon = (type) => {\r\n//     switch(type) {\r\n//       case 'hospital': return <Hospital size={20} />;\r\n//       case 'clinic': return <Building2 size={20} />;\r\n//       case 'doctors': return <Stethoscope size={20} />;\r\n//       default: return <MapPin size={20} />;\r\n//     }\r\n//   };\r\n\r\n//   return (\r\n//     <div className=\"container\" style={{ padding: '20px', maxWidth: '1400px', margin: '0 auto' }}>\r\n//       {/* Header */}\r\n//       <div style={{ background: 'white', borderRadius: '15px', padding: '25px', marginBottom: '20px', boxShadow: '0 4px 6px rgba(0,0,0,0.1)' }}>\r\n//         <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '20px' }}>\r\n//           <h1 style={{ margin: 0 }}>\r\n//             <MapPin style={{ display: 'inline', marginRight: '10px' }} />\r\n//             Nearby Healthcare\r\n//           </h1>\r\n//           <div style={{ display: 'flex', gap: '10px' }}>\r\n//             <button className=\"btn btn-primary\" onClick={getCurrentLocation}>\r\n//               <Navigation size={18} style={{ marginRight: '5px' }} />\r\n//               Use My Location\r\n//             </button>\r\n//             <button className=\"btn btn-secondary\" onClick={() => navigate('/patient/dashboard')}>\r\n//               Back\r\n//             </button>\r\n//           </div>\r\n//         </div>\r\n\r\n//         {/* Location Info */}\r\n//         <div style={{ background: '#f3f4f6', padding: '15px', borderRadius: '10px', marginBottom: '20px' }}>\r\n//           <p style={{ margin: 0 }}>\r\n//             <strong>Location:</strong> Islampur, Maharashtra ({userLocation.lat.toFixed(4)}, {userLocation.lng.toFixed(4)})\r\n//           </p>\r\n//         </div>\r\n\r\n//         {/* Filters */}\r\n//         <div style={{ display: 'flex', gap: '10px', flexWrap: 'wrap', alignItems: 'center' }}>\r\n//           <button\r\n//             onClick={() => setSelectedType('all')}\r\n//             className={selectedType === 'all' ? 'btn btn-primary' : 'btn btn-secondary'}\r\n//           >\r\n//             All\r\n//           </button>\r\n//           <button\r\n//             onClick={() => setSelectedType('hospital')}\r\n//             className={selectedType === 'hospital' ? 'btn btn-primary' : 'btn btn-secondary'}\r\n//             style={{ background: selectedType === 'hospital' ? '#ef4444' : undefined }}\r\n//           >\r\n//             <Hospital size={16} style={{ marginRight: '5px' }} /> Hospitals\r\n//           </button>\r\n//           <button\r\n//             onClick={() => setSelectedType('clinic')}\r\n//             className={selectedType === 'clinic' ? 'btn btn-primary' : 'btn btn-secondary'}\r\n//             style={{ background: selectedType === 'clinic' ? '#3b82f6' : undefined }}\r\n//           >\r\n//             <Building2 size={16} style={{ marginRight: '5px' }} /> Clinics\r\n//           </button>\r\n//           <button\r\n//             onClick={() => setSelectedType('doctors')}\r\n//             className={selectedType === 'doctors' ? 'btn btn-primary' : 'btn btn-secondary'}\r\n//             style={{ background: selectedType === 'doctors' ? '#10b981' : undefined }}\r\n//           >\r\n//             <Stethoscope size={16} style={{ marginRight: '5px' }} /> Doctors\r\n//           </button>\r\n\r\n//           <div style={{ marginLeft: 'auto' }}>\r\n//             <label style={{ marginRight: '10px' }}><strong>Radius:</strong></label>\r\n//             <select\r\n//               value={searchRadius}\r\n//               onChange={(e) => setSearchRadius(Number(e.target.value))}\r\n//               style={{ padding: '8px', borderRadius: '5px', border: '1px solid #ddd' }}\r\n//             >\r\n//               <option value={2000}>2 km</option>\r\n//               <option value={5000}>5 km</option>\r\n//               <option value={10000}>10 km</option>\r\n//               <option value={20000}>20 km</option>\r\n//             </select>\r\n//           </div>\r\n//         </div>\r\n//       </div>\r\n\r\n//       {/* Map and List */}\r\n//       <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '20px' }}>\r\n//         {/* Map */}\r\n//         <div style={{ background: 'white', borderRadius: '15px', padding: '20px', height: '600px' }}>\r\n//           <h2>Map View</h2>\r\n//           <div style={{ height: 'calc(100% - 50px)', borderRadius: '10px', overflow: 'hidden' }}>\r\n//             <MapContainer center={[userLocation.lat, userLocation.lng]} zoom={13} style={{ height: '100%', width: '100%' }}>\r\n//               <TileLayer\r\n//                 url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n//                 attribution='&copy; OpenStreetMap contributors'\r\n//               />\r\n//               <Marker position={[userLocation.lat, userLocation.lng]}>\r\n//                 <Popup>Your Location</Popup>\r\n//               </Marker>\r\n//               <Circle\r\n//                 center={[userLocation.lat, userLocation.lng]}\r\n//                 radius={searchRadius}\r\n//                 pathOptions={{ color: '#667eea', fillColor: '#667eea', fillOpacity: 0.1 }}\r\n//               />\r\n//               {places.map(place => (\r\n//                 <Marker\r\n//                   key={place.id}\r\n//                   position={[place.latitude, place.longitude]}\r\n//                   icon={createCustomIcon(getTypeColor(place.type))}\r\n//                 >\r\n//                   <Popup>\r\n//                     <strong>{place.name}</strong><br />\r\n//                     {place.type}<br />\r\n//                     {(place.distance / 1000).toFixed(2)} km away\r\n//                   </Popup>\r\n//                 </Marker>\r\n//               ))}\r\n//             </MapContainer>\r\n//           </div>\r\n//         </div>\r\n\r\n//         {/* List */}\r\n//         <div style={{ background: 'white', borderRadius: '15px', padding: '20px', height: '600px', overflowY: 'auto' }}>\r\n//           <h2>Found {places.length} Places</h2>\r\n//           {loading ? (\r\n//             <p>Loading...</p>\r\n//           ) : places.length === 0 ? (\r\n//             <p>No places found</p>\r\n//           ) : (\r\n//             places.map(place => (\r\n//               <div\r\n//                 key={place.id}\r\n//                 style={{\r\n//                   border: '1px solid #ddd',\r\n//                   borderRadius: '10px',\r\n//                   padding: '15px',\r\n//                   marginBottom: '15px',\r\n//                   cursor: 'pointer'\r\n//                 }}\r\n//                 onClick={() => setSelectedPlace(place)}\r\n//               >\r\n//                 <div style={{ display: 'flex', alignItems: 'center', gap: '10px' }}>\r\n//                   {getTypeIcon(place.type)}\r\n//                   <div>\r\n//                     <h3 style={{ margin: 0 }}>{place.name}</h3>\r\n//                     <p style={{ margin: '5px 0', color: '#666' }}>{place.type}</p>\r\n//                   </div>\r\n//                   <span style={{ marginLeft: 'auto', fontWeight: 'bold' }}>\r\n//                     {(place.distance / 1000).toFixed(2)} km\r\n//                   </span>\r\n//                 </div>\r\n//                 {place.phone !== 'N/A' && <p><Phone size={14} /> {place.phone}</p>}\r\n//                 {place.isRegistered && (\r\n//                   <button\r\n//                     className=\"btn btn-primary\"\r\n//                     onClick={() => navigate('/patient/book-appointment', { state: { doctor: place } })}\r\n//                     style={{ width: '100%', marginTop: '10px' }}\r\n//                   >\r\n//                     Book Appointment\r\n//                   </button>\r\n//                 )}\r\n//               </div>\r\n//             ))\r\n//           )}\r\n//         </div>\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// export default NearbyDoctors;"],"mappings":"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ACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AAAA,IAAAqK,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}